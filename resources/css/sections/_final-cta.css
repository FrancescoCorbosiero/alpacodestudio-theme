@layer sections {
  /* ============================================
     FINAL CTA - Conversion-Focused Section
     ============================================ */

  .final-cta {
    padding-block: var(--space-3xl);
    position: relative;
    overflow: hidden;
    text-align: center;

    /* Animated gradient background */
    background:
      linear-gradient(
        135deg,
        var(--color-brand-primary) 0%,
        color-mix(in oklch, var(--color-brand-primary), var(--color-brand-secondary) 40%) 50%,
        var(--color-brand-secondary) 100%
      );
    background-size: 200% 200%;
    animation: gradient-shift 15s ease infinite;
  }

  [data-theme="dark"] .final-cta {
    background:
      linear-gradient(
        135deg,
        color-mix(in oklch, var(--color-brand-primary), black 20%) 0%,
        color-mix(in oklch, var(--color-brand-primary), var(--color-brand-secondary) 40%) 50%,
        color-mix(in oklch, var(--color-brand-secondary), black 20%) 100%
      );
    background-size: 200% 200%;
    animation: gradient-shift 15s ease infinite;
  }

  /* Container */
  .final-cta__container {
    max-width: var(--container-md);
    margin-inline: auto;
    padding-inline: var(--gutter);
    position: relative;
    z-index: 2;
  }

  /* Headline */
  .final-cta__headline {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-tight);
    color: var(--color-text-inverse);
    margin-block-end: var(--space-lg);
    font-variation-settings: 'opsz' 40;
  }

  /* Subheadline */
  .final-cta__subheadline {
    font-size: var(--font-size-xl);
    line-height: var(--line-height-relaxed);
    color: color-mix(in oklch, var(--color-text-inverse), transparent 10%);
    margin-block-end: var(--space-xl);
    max-width: 42rem;
    margin-inline: auto;
  }

  /* Button Container */
  .final-cta__button {
    margin-block-end: var(--space-lg);
  }

  .final-cta__button .button {
    background: var(--color-surface-base);
    color: var(--color-brand-primary);
    font-size: var(--font-size-lg);
    padding: var(--space-md) var(--space-2xl);
    box-shadow: var(--shadow-lg);
    animation: pulse 3s ease-in-out infinite;
  }

  .final-cta__button .button:hover {
    background: var(--color-text-inverse);
    transform: translateY(-2px) scale(1.03);
    box-shadow: var(--shadow-xl);
  }

  /* Subtle pulse animation */
  @keyframes pulse {
    0%, 100% {
      box-shadow: 0 0 0 0 color-mix(in oklch, var(--color-surface-base), transparent 100%);
    }
    50% {
      box-shadow: 0 0 0 8px color-mix(in oklch, var(--color-surface-base), transparent 80%);
    }
  }

  /* Trust Line */
  .final-cta__trust {
    font-size: var(--font-size-sm);
    color: color-mix(in oklch, var(--color-text-inverse), transparent 20%);
    display: flex;
    gap: var(--space-md);
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
  }

  .final-cta__trust-item {
    display: flex;
    align-items: center;
    gap: var(--space-2xs);
  }

  /* Scroll animation */
  .final-cta__container > * {
    opacity: 0;
    transform: translateY(24px);
    transition:
      opacity var(--duration-slow) var(--easing-out),
      transform var(--duration-slow) var(--easing-out);
  }

  .final-cta__container.animate-in > * {
    opacity: 1;
    transform: translateY(0);
  }

  .final-cta__container.animate-in > *:nth-child(1) { transition-delay: 0ms; }
  .final-cta__container.animate-in > *:nth-child(2) { transition-delay: 100ms; }
  .final-cta__container.animate-in > *:nth-child(3) { transition-delay: 200ms; }
  .final-cta__container.animate-in > *:nth-child(4) { transition-delay: 300ms; }

  /* Responsive */
  @media (max-width: 768px) {
    .final-cta {
      padding-block: var(--space-2xl);
    }

    .final-cta__headline {
      font-size: var(--font-size-3xl);
    }

    .final-cta__subheadline {
      font-size: var(--font-size-lg);
    }

    .final-cta__button .button {
      width: 100%;
      justify-content: center;
    }

    .final-cta__trust {
      flex-direction: column;
      gap: var(--space-xs);
    }
  }
}
